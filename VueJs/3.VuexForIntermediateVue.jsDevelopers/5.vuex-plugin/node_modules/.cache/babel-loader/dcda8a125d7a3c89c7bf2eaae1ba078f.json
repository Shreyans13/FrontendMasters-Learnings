{"remainingRequest":"/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/node_modules/babel-loader/lib/index.js!/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/node_modules/eslint-loader/index.js??ref--13-0!/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/src/plugins/persist-data.js","dependencies":[{"path":"/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/src/plugins/persist-data.js","mtime":1614021643999},{"path":"/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/node_modules/cache-loader/dist/cjs.js","mtime":1613456410599},{"path":"/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/node_modules/babel-loader/lib/index.js","mtime":1602106619305},{"path":"/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/node_modules/eslint-loader/index.js","mtime":1613456428022}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHBlcnNpc3RUaW1lID0gNjAgKiAxMDAwOyAvLyAxIG1pbgoKdmFyIHBlcnNpc3REYXRhUGx1Z2luID0gZnVuY3Rpb24gcGVyc2lzdERhdGFQbHVnaW4oc3RvcmUpIHsKICBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZSkgewogICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICJ1cGRhdGVTZXJ2aWNlRGF0ZSIpIHsKICAgICAgdmFyIHJlY29yZCA9IHsKICAgICAgICBkYXRlVGltZTogc3RhdGUubGFzdFNlcnZpY2VkLAogICAgICAgIHBlcnNpc3RGb3I6IHN0YXRlLmxhc3RTZXJ2aWNlZC5nZXRUaW1lKCkgKyBwZXJzaXN0VGltZQogICAgICB9OwoKICAgICAgdHJ5IHsKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImxhc3Rfc2VydmljZWQiLCBKU09OLnN0cmluZ2lmeShyZWNvcmQpKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIHRocm93IGU7CiAgICAgIH0KICAgIH0KICB9KTsKICBzdG9yZS5zdWJzY3JpYmVBY3Rpb24oZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHsKICAgIGNvbnNvbGUubG9nKCJhY3Rpb24udHlwZSA9ICIsIGFjdGlvbi50eXBlKTsKICAgIGNvbnNvbGUubG9nKCJhY3Rpb24ucGF5bG9hZCA9ICIsIGFjdGlvbi5wYXlsb2FkKTsKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHBlcnNpc3REYXRhUGx1Z2luOw=="},{"version":3,"sources":["/media/shreyans/0a91008e-aeb8-4aea-a325-4fb834f7e565/frontendMasters/VueJs/3.VuexForIntermediateVue.jsDevelopers/vuex-plugin/src/plugins/persist-data.js"],"names":["persistTime","persistDataPlugin","store","subscribe","mutation","state","type","record","dateTime","lastServiced","persistFor","getTime","window","localStorage","setItem","JSON","stringify","e","console","log","subscribeAction","action","payload"],"mappings":"AAAA,IAAMA,WAAW,GAAG,KAAK,IAAzB,C,CAA+B;;AAE/B,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,KAAK,EAAI;AAClCA,EAAAA,KAAK,CAACC,SAAN,CAAgB,UAACC,QAAD,EAAWC,KAAX,EAAqB;AACpC,QAAID,QAAQ,CAACE,IAAT,KAAkB,mBAAtB,EAA2C;AAC1C,UAAIC,MAAM,GAAG;AACZC,QAAAA,QAAQ,EAAEH,KAAK,CAACI,YADJ;AAEZC,QAAAA,UAAU,EAAEL,KAAK,CAACI,YAAN,CAAmBE,OAAnB,KAA+BX;AAF/B,OAAb;;AAIA,UAAI;AACHY,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CACC,eADD,EAECC,IAAI,CAACC,SAAL,CAAeT,MAAf,CAFD;AAIA,OALD,CAKE,OAAOU,CAAP,EAAU;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,cAAMA,CAAN;AACA;AACD;AACD,GAhBD;AAiBAf,EAAAA,KAAK,CAACkB,eAAN,CAAsB,UAACC,MAAD,EAAShB,KAAT,EAAmB;AACxCa,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BE,MAAM,CAACf,IAArC;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCE,MAAM,CAACC,OAAxC;AACA,GAHD;AAIA,CAtBD;;AAwBA,eAAerB,iBAAf","sourcesContent":["const persistTime = 60 * 1000; // 1 min\n\nconst persistDataPlugin = store => {\n\tstore.subscribe((mutation, state) => {\n\t\tif (mutation.type === \"updateServiceDate\") {\n\t\t\tlet record = {\n\t\t\t\tdateTime: state.lastServiced,\n\t\t\t\tpersistFor: state.lastServiced.getTime() + persistTime\n\t\t\t};\n\t\t\ttry {\n\t\t\t\twindow.localStorage.setItem(\n\t\t\t\t\t\"last_serviced\",\n\t\t\t\t\tJSON.stringify(record)\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t});\n\tstore.subscribeAction((action, state) => {\n\t\tconsole.log(\"action.type = \", action.type);\n\t\tconsole.log(\"action.payload = \", action.payload);\n\t});\n};\n\nexport default persistDataPlugin;\n"]}]}